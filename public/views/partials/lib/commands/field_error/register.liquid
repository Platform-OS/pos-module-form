{% comment %}
  Registers a form field error.

  Params:
    - field_name
    - error String
    - errors Object (optional)
{% endcomment %}
{% liquid
  assign errors = errors | default: '{}' | parse_json

  unless errors[field_name]
    hash_assign errors[field_name] = '[]' | parse_json
  endunless
  hash_assign errors[field_name] = errors[field_name] | add_to_array: error

  return errors
%}
